# Onboard Murilo Matsubara

Onboard backend project to get familiar with Taqtile's workflow and projects best practices.

---

## Environment

Before running the server make sure the environment is correctly setup. To do so, follow these steps:

### 1. .env file

Make a copy of `sample.env` with the name `.env`, then modify `.env` to your liking. If you plan to add a new environment variable, make sure to update the `sample.env` file.

### 2. Infra

To startup the required containers to run the project, execute the following command:

```
npm run infra
```

---

## Running the server

After you setup the environment, you need have node.js installed on your machine. We recommend using node `v16.15.0`.
After node is properly installed, you need to install the dependencies with:

```
npm install
```

Now you can run the server in `develop` mode or in `production`.

### Develop mode

To run the server in develop mode execute the following command:

```
npm run dev
```

It will start `tsc` in watch mode and start a nodemon session watching the file `dist/index.js` generated by the typescript transpiler.This way you can edit your `.ts` files in `/src` and they will be automatically transpiled to `.js` and nodemon will restart the server with the new modifications.

### Production mode

Since node cannot run `.ts` file directly, you need to transpile them to `.js` files first. And to do so, execute the following command:

```
npm run build
```

After that you can execute run the transpiled code, executing:

```
npm start
```

---

## Tools used

Bellow is the list of some of the tools used:

| Tool                                                                                                                                                                  | Description                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------ |
| [Apollo server](https://www.apollographql.com/docs/)                                                                                                                  | Graphql server                                               |
| [express.js](https://expressjs.com/)                                                                                                                                  | Http server for apollo                                       |
| [typeorm](https://typeorm.io/)                                                                                                                                        | ORM which mostly eases the process of dealing with databases |
| [concurrently](https://www.npmjs.com/package/concurrently) + [typescript](https://www.npmjs.com/package/typescript) +[nodemon](https://www.npmjs.com/package/nodemon) | Packages to make hotreload easier when used in combination   |
| [bcrypt](https://www.npmjs.com/package/bcrypt)                                                                                                                        | Bcrypt encryption algorithm implementation                   |
